<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.asiainfo.ocmanager.persistence.mapper.UserRoleMapper">
	<select id="selectUsersRolesInTenant" parameterType="java.lang.String"
		resultType="com.asiainfo.ocmanager.persistence.model.UserRoleView">
		select 
		  U.id as "userId",
		  U.username as "userName",
		  U.description as "userDescription",
		  R.id as "roleId",
		  R.rolename as "roleName"
		  from
		      tenants_users_roles_assignment as TUR, users as U, roles as R where
		      TUR.user_id=U.id and TUR.role_id=R.id and TUR.tenant_id=#{tenantId};
	</select>
</mapper>